<!DOCTYPE html>
<html>
  <head>
    <title>Home</title>
    <link rel="stylesheet" href="adminStyle.css">
    <link rel="shortcut icon" type="x-icon" href="img/classrom.jpg">

    <!-- Firebase v10.11.0 UMD CDN Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-database-compat.js"></script>
  </head>
  <body>
    <h2 class="header-name">Admin Login</h2>
    <input class="login" id="email" />
    <input class="login" id="password" type="password"/>
    <button class="login" onclick="login()">Login</button>

    <p id="status"></p>

    <script>
      function login() {
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        firebase.auth().signInWithEmailAndPassword(email, password)
          .then((userCredential) => {
            const user = userCredential.user;
            document.getElementById("status").textContent = `Logged in as UID: ${user.uid}`;
            console.log("UID:", user.uid);
          })
          .catch((error) => {
            console.error(error);
            document.getElementById("status").textContent = error.message;
          });
      }
    </script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyCPgfx4BIbR0Qt97M12dIFUEy1hd87Vj9Q",
        authDomain: "whythisagain-c8485.firebaseapp.com",
        databaseURL: "https://whythisagain-c8485-default-rtdb.firebaseio.com",
        projectId: "whythisagain-c8485",
        storageBucket: "whythisagain-c8485.firebasestorage.app",
        messagingSenderId: "779902621474",
        appId: "1:779902621474:web:46c8a3d39582c0300d777b"
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script>
    <script>
      // Firebase initialized here...
      function login() {
        const email = document.getElementById("email").value;
        const pass = document.getElementById("password").value;
        
        firebase.auth().signInWithEmailAndPassword(email, pass)
          .then(() => window.location.href = "admin.html")
          .catch(err => alert(err.message));
      }
    </script>
  </body>
</html>